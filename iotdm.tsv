***Settings***
Library	iotdm

***Variable***
${httphost}	"localhost:8282"
${httpuser}	"admin"
${httppass}	"admin"

${resthost}	"localhost:8181"
${restuser}	"admin"
${restpass}	"admin"

${nip}	"localhost"
${nport}	10000
${ntimeout}	5

***Test Cases***
Basic HTTP CRUD Test
	${iserver} =	Connect To DDM	${httphost}	${httpuser}	${httppass}	"http"
	${ae} =	Create Resource	${iserver}	"InCSE1"	"AE"
	${container} =	Create Resource	${iserver}	${ae}	"container"
	${contentinstance} =	Create Resource	${iserver}	${container}	"contentInstance"	"content"	"my content"
	${json} =	Retrieve Resource	${iserver}	${ae}
	${json} =	Retrieve Resource	${iserver}	${container}
	${json} =	Retrieve Resource	${iserver}	${contentinstance}
	Update Resource	${iserver}	${ae}	"labels"	"my ae label"
	Update Resource	${iserver}	${container}	"labels"	"my container label"
#	Update Resource	${iserver}	${contentinstance}	"contents"	"my content value"
	Delete Resource	${iserver}	${contentinstance}
	Delete Resource	${iserver}	${container}
	Delete Resource	${iserver}	${ae}

Basic HTTP Subscription Test
	${iserver} =	Connect To DDM	${httphost}	${httpuser}	${httppass}	"http"
	${nserver} = 	New Notification Server	${nip}	${nport}
	${nae} =	Create Resource	${iserver}	"InCSE1"	"AE"
	${ncontainer} =	Create Resource	${iserver}	${nae}	"container"
	Create Subscription	${iserver}	${ncontainer}	${nip}	${nport}
	${contentinstance} =	Create Resource	${iserver}	${ncontainer}	"contentInstance"	"content"	"my content"
	${ndata} =	Read Notifications	${nserver}	${ntimeout}
	Close Notification Server	${nserver}

Basic RESTconf CRUD Test
	${iserver} =	Connect To DDM	${resthost}	${restuser}	${restpass}	"restconf"
	${ae} =	Create Resource	${iserver}	"InCSE1"	"AE"
	${container} =	Create Resource	${iserver}	${ae}	"container"
	${contentinstance} =	Create Resource	${iserver}	${container}	"contentInstance"	"content"	"my content"
	${json} =	Retrieve Resource	${iserver}	${ae}
	${json} =	Retrieve Resource	${iserver}	${container}
	${json} =	Retrieve Resource	${iserver}	${contentinstance}
	Update Resource	${iserver}	${ae}	"labels"	"my ae label"
	Update Resource	${iserver}	${container}	"labels"	"my container label"
#	Update Resource	${iserver}	${contentinstance}	"contents"	"my content value"
	Delete Resource	${iserver}	${contentinstance}
	Delete Resource	${iserver}	${container}
	Delete Resource	${iserver}	${ae}

Basic RESTconf Subscription Test
	${iserver} =	Connect To DDM	${resthost}	${restuser}	${restpass}	"restconf"
	${nserver} = 	New Notification Server	${nip}	${nport}
	${nae} =	Create Resource	${iserver}	"InCSE1"	"AE"
	${ncontainer} =	Create Resource	${iserver}	${nae}	"container"
	Create Subscription	${iserver}	${ncontainer}	${nip}	${nport}
	${contentinstance} =	Create Resource	${iserver}	${ncontainer}	"contentInstance"	"content"	"my content"
	${ndata} =	Read Notifications	${nserver}	${ntimeout}
	Close Notification Server	${nserver}

